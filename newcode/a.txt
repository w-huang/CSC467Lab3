TEMP fCol;
MOV fCol, fragment.color;
TEMP fTex;
MOV fTex, fragment.texcoord;
TEMP eyeNorm;
TEMP coeff;
TEMP shade;
PARAM lVec = program.env[1];
PARAM lHalf = state.light[0].half;
PARAM red = {1.000000,0.0000000.0000001.000000};
MOV eyeNorm, fTex;
TEMP tmpVar1;
DP3 tmpVar1,eyeNorm,eyeNorm;
MOV eyeNorm.w, tempVar1;
TEMP tmpVar2;
RSQ tmpVar2,eyeNorm.w;
MOV eyeNorm.w, tempVar2;
TEMP tmpVar3;
MUL tmpVar3,eyeNorm,eyeNorm.w;
MOV eyeNorm, tempVar3;
TEMP tmpVar4;
MUL tmpVar4,state.lightmodel.ambient,fCol;
MOV shade, tempVar4;
TEMP tmpVar5;
DP3 tmpVar5,lVec,eyeNorm;
MOV coeff.x, tempVar5;
TEMP tmpVar6;
DP3 tmpVar6,lHalf,eyeNorm;
MOV coeff.y, tempVar6;
MOV coeff.w, state.material.shininess.x;
TEMP tmpVar7;
LIT tmpVar7,coeff;
MOV coeff, tempVar7;
TEMP tmpVar8;
MUL tmpVar8,coeff.y,fCol;
TEMP tmpVar9;
ADD tmpVar9,shade,tmpVar8;
MOV shade, tempVar9;
TEMP tmpVar10;
MUL tmpVar10,coeff.z,fCol;
TEMP tmpVar11;
ADD tmpVar11,shade,tmpVar10;
MOV shade, tempVar11;
MOV result.color, shade;
